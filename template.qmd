---
title: "Lab 7: Parking Garage Case Study"
author: "Jonathan Gan wg18"
jupyter: julia-1.10
date: 2024-03-08
categories: [Lab]

format: 
    html: default

    # YOU DO NOT NEED BOTH PDF AND DOCX.
    # COMMENT OR DELETE THE ONE YOU DON'T WANT TO USE.
    pdf:
        documentclass: article
        fontsize: 11pt
        geometry:
            - margin=1in  
        number-sections: true
        code-line-numbers: true
    #docx: 
    #    toc: true
    #    fig-format: png
    #    number-sections: true
    #`    code-line-numbers: true

date-format: "ddd., MMM. D"
references: references.bib
---

# Load Packages
```{julia}
using Revise
using ParkingGarage
```
```{julia}
using Plots
Plots.default(; margin=5Plots.mm)
```

# Static Case
```{julia}
let
    demand_growth_rate = 0:10.0:90.0
    n_years = 20
    discount_rate = 0.12
    sow = ParkingGarageSOW(; demand_growth_rate=80.0, n_years, discount_rate)
    n_levels = 2:12
    policies = [StaticPolicy(i) for i in n_levels]
    profits = [simulate(sow, policy) for policy in policies]
    plot(
        n_levels,
        profits;
        ylabel="NPV Profits [Million USD]",
        xlabel="Number of levels",
        legend=false,
        title="$(sow.n_years) Year Horizon, $(sow.discount_rate) Discount, $(sow.demand_growth_rate) Demand Growth",
        size=(800, 400),
        marker=:circle,
        xticks=n_levels,
    )
    hline!([0])
end
```

# Static Case